<yz-ngx-toasty [position]="'center-center'"></yz-ngx-toasty>
<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal">
    <ba-card title="新建用户" baCardClass="with-scroll">
        <div class="form-group row">
            <label for="txtCrop" class="col-sm-2 control-label">区域选择</label>
            <div class="col-sm-8">
                <input [formControl]="areaCode" type="text" class="form-control" (click)="showAreaInfo('区域选择')"
                    readonly [ngModel]="currUser.areaCode" [disabled]="level==3"/>
            </div>
            <label *ngIf="areaCode.hasError('required')&& areaCode.touched" class="col-sm-2 control-label" style="color: red">
                区域不能为空
            </label>
        </div>
        <div class="form-group row">
            <label for="txtUserName" class="col-sm-2 control-label">用户名</label>

            <div class="col-sm-8">
                <input [formControl]="username" type="text" class="form-control" [(ngModel)]="currUser.username" id="txtUserName"
                    placeholder="用户名">
            </div>
            <label *ngIf="(username.hasError('required') || username.hasError('minlength') )&& username.touched" class="col-sm-2 control-label"
                style="color: red" autocomplete="off">
                用户名不能小于4个字符
            </label>
        </div>
        <div class="form-group row">
            <label for="txtUserName" class="col-sm-2 control-label">密码</label>

            <div class="col-sm-8">
                <i class="fa fa-eye eye" aria-hidden="true" (mouseover)="passType='text'" (mouseout)="passType='password'"></i>
                <input [formControl]="password" type="{{passType}}" class="form-control" [(ngModel)]="currUser.password"
                    id="txtPassword" placeholder="密码" autocomplete="new-password">
            </div>
            <label *ngIf="(password.hasError('required') || password.hasError('minlength') )&& password.touched" class="col-sm-2 control-label"
                style="color: red">
                密码不能小于4个字符
            </label>
        </div>
        <div class="form-group row">
            <label for="txtName" class="col-sm-2 control-label">真实姓名</label>

            <div class="col-sm-8">
                <input [formControl]="cnname" type="text" class="form-control" [(ngModel)]="currUser.cnname" id="txtName"
                    placeholder="真实姓名" autocomplete="off">
            </div>
        </div>
    </ba-card>
    <ba-card title="联系方式" baCardClass="with-scroll">
        <div class="form-group row">
            <label for="txtEmail" class="col-sm-2 control-label">邮箱</label>

            <div class="col-sm-8">
                <input [formControl]="email" type="email" class="form-control" [(ngModel)]="currUser.email" id="txtEmail"
                    placeholder="邮箱" autocomplete="off">
            </div>
            <label *ngIf="email.hasError('email') && email.touched" class="col-sm-2 control-label" style="color: red">
                email格式不正确
            </label>
        </div>
        <div class="form-group row">
            <label for="txtPhone" class="col-sm-2 control-label">手机号</label>

            <div class="col-sm-8">
                <input [formControl]="mobilePhone" type="text" class="form-control" [(ngModel)]="currUser.mobilePhone"
                    id="txtPhone" placeholder="手机号" autocomplete="off">
            </div>
            <label *ngIf="mobilePhone.hasError('minlength') && mobilePhone.touched" class="col-sm-2 control-label"
                style="color: red">
                手机号格式不正确
            </label>
        </div>
    </ba-card>
    <div class="form-group row">
        <div class="col-sm-4 control-label"></div>
        <div class="offset-sm-1 col-sm-3">
            <button [disabled]="!form.valid" type="submit" class="btn yz-btn" [ngClass]="btnClassLevel">提交</button>
        </div>
        <div class="col-sm-5 control-label"></div>
    </div>
</form>